<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Para M√≥nica Patricia üíñ</title>
  <meta name="theme-color" content="#b1002f" />
  <style>
    :root{
      --bg1:#120013; --bg2:#2a0018;
      --card: rgba(255,255,255,.08);
      --txt:#fff; --muted: rgba(255,255,255,.78);
      --accent:#ff2e63; --accent2:#ff7aa2; --gold:#ffd7a8;
      --shadow: 0 20px 60px rgba(0,0,0,.45);
      --radius: 22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--txt);
      min-height:100vh;
      overflow-x:hidden;
      background:
        radial-gradient(1200px 800px at 20% 10%, rgba(255,46,99,.25), transparent 60%),
        radial-gradient(900px 700px at 80% 30%, rgba(255,122,162,.18), transparent 60%),
        linear-gradient(160deg, var(--bg1), var(--bg2));
    }
    .hearts{position:fixed; inset:0; pointer-events:none; overflow:hidden; opacity:.9; z-index:0;}
    .heart{
      position:absolute; bottom:-60px; font-size:18px;
      filter: drop-shadow(0 6px 14px rgba(255,46,99,.35));
      animation: floatUp linear forwards;
    }
    @keyframes floatUp{
      to{transform: translateY(-120vh) translateX(var(--drift)); opacity:0;}
    }
    .wrap{position:relative; z-index:1; display:flex; align-items:center; justify-content:center; padding:28px 14px; min-height:100vh;}
    .card{
      width:min(760px, 100%);
      background: var(--card);
      border: 1px solid rgba(255,255,255,.12);
      backdrop-filter: blur(14px);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 22px;
      overflow:hidden;
    }
    .top{display:flex; gap:14px; align-items:center; justify-content:space-between; flex-wrap:wrap;}
    .badge{
      display:inline-flex; gap:10px; align-items:center;
      padding:10px 14px; border-radius:999px;
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.12);
      color: var(--muted); font-size:13px;
    }
    .badge b{color:var(--gold)}
    .title{margin:14px 0 8px; font-size: clamp(26px, 4.5vw, 40px); line-height:1.1;}
    .subtitle{margin:0 0 12px; color: var(--muted); font-size: 15px; line-height:1.6;}
    .hero{margin-top:14px; display:grid; grid-template-columns: 1.2fr .8fr; gap:14px;}
    @media (max-width:720px){ .hero{grid-template-columns:1fr} }
    .panel{
      border-radius: 18px;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.10);
      padding:16px;
    }
    .quote{font-size: 16px; line-height:1.7; color: rgba(255,255,255,.92); margin:0;}
    .quote .hl{
      color:#fff; font-weight:900;
      background: linear-gradient(90deg, rgba(255,46,99,.35), rgba(255,122,162,.18));
      padding:2px 8px; border-radius: 10px;
      border: 1px solid rgba(255,255,255,.12);
    }
    .question{
      margin-top:16px; padding:16px; border-radius:18px;
      background: linear-gradient(135deg, rgba(255,46,99,.18), rgba(255,215,168,.08));
      border:1px solid rgba(255,255,255,.14);
    }
    .question h2{margin:0 0 8px; font-size: 18px;}
    .question p{margin:0; color: var(--muted); line-height:1.6; font-size:14px;}
    .actions{position:relative; display:flex; gap:12px; flex-wrap:wrap; align-items:center; margin-top:14px; min-height:64px;}
    button{
      border:0; padding:12px 16px; border-radius: 999px; font-weight:900;
      cursor:pointer; transition: transform .08s ease, filter .2s ease; user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .yes{background: linear-gradient(135deg, var(--accent), var(--accent2)); color:white; box-shadow: 0 18px 40px rgba(255,46,99,.25);}
    .yes:active{transform: scale(.98)}
    .no{
      background: rgba(255,255,255,.10);
      color: rgba(255,255,255,.92);
      border:1px solid rgba(255,255,255,.14);
      position:relative;
    }
    .no:active{transform: scale(.98)}
    .footer{
      margin-top:14px; display:flex; align-items:center; justify-content:space-between;
      gap:12px; flex-wrap:wrap; color: rgba(255,255,255,.62); font-size:12px;
    }
    .pill{padding:6px 10px; border-radius:999px; background: rgba(0,0,0,.18); border:1px solid rgba(255,255,255,.10);}
    .countdown{display:grid; grid-template-columns: repeat(4, 1fr); gap:10px; margin-top:12px;}
    .tile{border-radius: 16px; background: rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.12); padding:12px 10px; text-align:center;}
    .num{font-size: 22px; font-weight:950;}
    .lab{font-size:12px; color: var(--muted); margin-top:4px;}

    /* Bot√≥n m√∫sica */
    .musicbar{
      display:flex; gap:10px; align-items:center; justify-content:space-between;
      padding:12px; border-radius:18px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.12);
      margin-top:12px;
    }
    .musicbar .info{font-size:13px; color:rgba(255,255,255,.85); line-height:1.4}
    .musicbtn{
      background: rgba(255,255,255,.12);
      border:1px solid rgba(255,255,255,.16);
      color:#fff;
      font-weight:900;
      padding:10px 14px;
    }

    /* Modal */
    .modal{position:fixed; inset:0; display:none; place-items:center; background: rgba(0,0,0,.55); z-index:10; padding:14px;}
    .modal.open{display:grid}
    .modal .box{
      width:min(560px, 100%);
      background: rgba(18,0,19,.92);
      border:1px solid rgba(255,255,255,.14);
      border-radius: 22px;
      box-shadow: var(--shadow);
      padding:18px;
      position:relative;
      overflow:hidden;
    }
    .spark{
      position:absolute; inset:-60px -80px auto auto;
      width:240px; height:240px;
      background: radial-gradient(circle at 30% 30%, rgba(255,215,168,.55), transparent 55%),
                  radial-gradient(circle at 70% 70%, rgba(255,46,99,.45), transparent 55%);
      filter: blur(2px); opacity:.8; transform: rotate(12deg);
    }
    .box h3{margin:0 0 8px; font-size:20px}
    .box p{margin:0 0 14px; color: var(--muted); line-height:1.7}
    .box .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between;}
    .close{
      background: rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.12);
      color:white;
    }

    /* iframe oculto (solo audio) */
    #ytwrap{position:absolute; left:-9999px; top:-9999px; width:1px; height:1px; overflow:hidden;}
  </style>
</head>
<body>
  <div class="hearts" id="hearts"></div>

  <!-- Player oculto -->
  <div id="ytwrap">
    <div id="ytplayer"></div>
  </div>

  <div class="wrap">
    <main class="card" role="main">
      <div class="top">
        <div class="badge">üåπ Para <b id="name">M√≥nica Patricia</b></div>
        <div class="badge">üíå Nuestro primer San Valent√≠n</div>
      </div>

      <h1 class="title">Te amo, <span style="color:var(--gold)">M√≥nica Patricia</span> üíñ</h1>
      <p class="subtitle">
        Este ser√° nuestro primer San Valent√≠n‚Ä¶
        y quiero decirte algo con todo mi coraz√≥n: cada a√±o te voy a elegir a ti.
      </p>

      <section class="hero">
        <div class="panel">
          <p class="quote">
            Quiero que seas <span class="hl">la primera y la √∫ltima</span>:
            la persona con la que celebre la vida, los sue√±os y todo lo que venga.
            Porque mi ‚Äúpara siempre‚Äù tiene tu nombre.
          </p>

          <div class="musicbar">
            <div class="info">
              üéµ M√∫sica: <b>palacio</b><br/>
              <span style="color:rgba(255,255,255,.7)">Toca para reproducir.</span>
            </div>
            <button class="musicbtn" id="btnMusic">‚ñ∂ Reproducir</button>
          </div>

          <div class="question">
            <h2>¬øAcept√°s ser mi San Valent√≠n‚Ä¶ y mi elecci√≥n de cada a√±o? ü´∂</h2>
            <p>
              Prometo elegirte hoy, ma√±ana, y cada a√±o que venga.
            </p>

            <div class="actions" id="actions">
              <button class="yes" id="btnYes">S√≠, acepto üíç</button>
              <button class="no" id="btnNo">No üôà</button>
            </div>
          </div>

          <div class="footer">
            <span class="pill">üïäÔ∏è Eres mi sue√±o cumplido</span>
            <span class="pill" id="valDayText">‚è≥ Calculando‚Ä¶</span>
          </div>
        </div>

        <aside class="panel">
          <div class="badge" style="margin-bottom:10px">‚è∞ Cuenta regresiva al 14 de febrero</div>
          <div class="countdown" aria-label="Cuenta regresiva">
            <div class="tile"><div class="num" id="d">--</div><div class="lab">D√≠as</div></div>
            <div class="tile"><div class="num" id="h">--</div><div class="lab">Horas</div></div>
            <div class="tile"><div class="num" id="m">--</div><div class="lab">Min</div></div>
            <div class="tile"><div class="num" id="s">--</div><div class="lab">Seg</div></div>
          </div>
        </aside>
      </section>
    </main>
  </div>

  <!-- Modal -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="box" role="dialog" aria-modal="true" aria-label="Mensaje de amor">
      <div class="spark"></div>
      <h3>üíñ</h3>
      <p id="modalText">
        Gracias por decir que s√≠. Te elijo hoy, ma√±ana y siempre.
      </p>
      <div class="row">
        <button class="close" id="btnClose">Cerrar ‚ú®</button>
      </div>
    </div>
  </div>

  <script>
    // CONFIG
    const NOMBRE = "M√≥nica Patricia";

    // YouTube video ID para "Elsa y Elmar - palacio"
    // Fuente: https://www.youtube.com/watch?v=Vk-A6jLTOmM
    const YT_VIDEO_ID = "Vk-A6jLTOmM";

    // DOM
    document.getElementById("name").textContent = NOMBRE;

    // Corazones
    const hearts = document.getElementById("hearts");
    const heartChars = ["‚ù§","üíñ","üíò","üíó","üåπ","üíï"];
    function spawnHeart(){
      const el = document.createElement("div");
      el.className = "heart";
      el.textContent = heartChars[Math.floor(Math.random()*heartChars.length)];
      const left = Math.random()*100;
      const size = 14 + Math.random()*22;
      const dur  = 5 + Math.random()*6;
      const drift = (Math.random()*120 - 60).toFixed(0) + "px";
      el.style.left = left + "vw";
      el.style.fontSize = size + "px";
      el.style.animationDuration = dur + "s";
      el.style.setProperty("--drift", drift);
      el.style.opacity = (0.6 + Math.random()*0.4).toFixed(2);
      hearts.appendChild(el);
      setTimeout(()=> el.remove(), dur*1000);
    }
    setInterval(spawnHeart, 420);
    for(let i=0;i<10;i++) setTimeout(spawnHeart, i*180);

    // Cuenta regresiva a 14 Feb (a√±o actual o siguiente)
    const elD = document.getElementById("d");
    const elH = document.getElementById("h");
    const elM = document.getElementById("m");
    const elS = document.getElementById("s");
    const elTxt = document.getElementById("valDayText");

    function getNextValentines(){
      const now = new Date();
      const y = now.getFullYear();
      let target = new Date(y, 1, 14, 0, 0, 0); // Feb = 1
      if(now > target) target = new Date(y+1, 1, 14, 0, 0, 0);
      return target;
    }
    const targetDate = getNextValentines();

    function pad(n){ return String(n).padStart(2,"0"); }
    function tick(){
      const now = new Date();
      let diff = targetDate - now;
      if(diff < 0) diff = 0;

      const sec = Math.floor(diff/1000);
      const days = Math.floor(sec/86400);
      const hrs = Math.floor((sec%86400)/3600);
      const min = Math.floor((sec%3600)/60);
      const s = sec%60;

      elD.textContent = days;
      elH.textContent = pad(hrs);
      elM.textContent = pad(min);
      elS.textContent = pad(s);

      const opts = { day:"2-digit", month:"long", year:"numeric" };
      elTxt.textContent = "üìÖ " + targetDate.toLocaleDateString("es-GT", opts);
    }
    setInterval(tick, 1000);
    tick();

    // Bot√≥n NO que se mueve
    const btnNo = document.getElementById("btnNo");
    const actions = document.getElementById("actions");
    function moveNo(){
      const rect = actions.getBoundingClientRect();
      const bw = btnNo.offsetWidth;
      const bh = btnNo.offsetHeight;
      const maxX = Math.max(0, rect.width - bw);
      const maxY = Math.max(0, rect.height - bh);
      const x = Math.random() * maxX;
      const y = Math.random() * maxY;
      btnNo.style.position = "absolute";
      btnNo.style.left = x + "px";
      btnNo.style.top = y + "px";
    }
    btnNo.addEventListener("mouseenter", moveNo);
    btnNo.addEventListener("touchstart", (e)=>{ e.preventDefault(); moveNo(); }, {passive:false});

    // Modal
    const btnYes = document.getElementById("btnYes");
    const modal = document.getElementById("modal");
    const modalText = document.getElementById("modalText");
    const btnClose = document.getElementById("btnClose");

    btnYes.addEventListener("click", ()=>{
      modalText.textContent = "Gracias por decir que s√≠. Te elijo hoy, ma√±ana y siempre. üåπüíñ";
      modal.classList.add("open");
      modal.setAttribute("aria-hidden","false");
      for(let i=0;i<30;i++) setTimeout(spawnHeart, i*60);

      // Intentar iniciar m√∫sica cuando presione "S√≠"
      startMusic();
    });

    btnClose.addEventListener("click", ()=>{
      modal.classList.remove("open");
      modal.setAttribute("aria-hidden","true");
    });
    modal.addEventListener("click", (e)=>{ if(e.target === modal) btnClose.click(); });

    // ===== YouTube IFrame API (audio) =====
    let player = null;
    let isPlaying = false;
    const btnMusic = document.getElementById("btnMusic");

    function loadYouTubeApi(){
      return new Promise((resolve) => {
        if (window.YT && window.YT.Player) return resolve();
        const tag = document.createElement("script");
        tag.src = "https://www.youtube.com/iframe_api";
        window.onYouTubeIframeAPIReady = () => resolve();
        document.head.appendChild(tag);
      });
    }

    async function initPlayer(){
      if (player) return;
      await loadYouTubeApi();
      player = new YT.Player("ytplayer", {
        height: "1",
        width: "1",
        videoId: YT_VIDEO_ID,
        playerVars: {
          autoplay: 0,
          controls: 0,
          rel: 0,
          modestbranding: 1
        },
        events: {
          onReady: () => {
            // volumen inicial
            try { player.setVolume(70); } catch {}
          },
          onStateChange: (e) => {
            // 1 = playing, 2 = paused
            if (e.data === 1) { isPlaying = true; btnMusic.textContent = "‚è∏ Pausar"; }
            if (e.data === 2) { isPlaying = false; btnMusic.textContent = "‚ñ∂ Reproducir"; }
          }
        }
      });
    }

    async function startMusic(){
      await initPlayer();
      try {
        player.playVideo();
      } catch {}
    }
    async function pauseMusic(){
      if (!player) return;
      try { player.pauseVideo(); } catch {}
    }
    btnMusic.addEventListener("click", async ()=>{
      await initPlayer();
      if (!isPlaying) startMusic();
      else pauseMusic();
    });
  </script>
</body>
</html>
